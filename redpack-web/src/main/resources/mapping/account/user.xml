<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.redpack.dao.account.IUserDao">
	<resultMap type="userDo" id="userResultMap">
		<result property="id" column="id" />
		<result property="username" column="username" />
		<result property="email" column="email" />
		<result property="password" column="password" />
		<result property="twoLevelpwd" column="twoLevelpwd" />
		<result property="mobilePhone" column="mobilePhone" />
		<result property="refUser" column="refUser" />
		<result property="reciverUser" column="reciverUser" />
		
		<result property="vipStatus" column="vipStatus" />
		<result property="vipCreateTime" column="vipCreateTime" />		
		<result property="enable" column="enable" />
		<result property="createTime" column="createTime" />
	</resultMap>

	<select id="getById" parameterType="long" resultMap="userResultMap">
		SELECT * FROM
		t_user WHERE id = #{id}
	</select>
	
	<select id="getByUserDo" parameterType="Map" resultMap="userResultMap">
		SELECT * FROM t_user 
	 	<trim prefix="WHERE" prefixOverrides="AND |OR "> 
			<if test="id != null">  
				AND id like #{id}
			</if>
			<if test="username != null">  
				AND user_name like #{username}
			</if>
			<if test="email != null">  
				AND email like #{email}
			</if>
			<if test="password != null">  
				AND password like #{password}
			</if>
			<if test="twoLevelpwd != null">  
				AND password_two like #{twoLevelpwd}
			</if>
			<if test="mobilePhone != null">  
				AND mobile like #{mobilePhone}
			</if>
	 	</trim>
	</select>

    <insert id="saveUser" parameterType="userDo">
        insert into t_user (username) values (#{username});
    </insert>

</mapper>